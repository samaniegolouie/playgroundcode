<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Route Suggestions</title>
</head>
<body>
    <label for="origin">Origin:</label>
    <input type="text" id="originInput" placeholder="Enter origin">
    <br><br>
    <label for="destination">Destination:</label>
    <input type="text" id="destinationInput" placeholder="Enter destination">
    <br><br>
    <button onclick="calculateRoutes()">Calculate Routes</button><br><br>
    <div id="routeList"></div>

    <script>
        async function calculateRoutes() {
            const originInput = document.getElementById('originInput').value;
            const destinationInput = document.getElementById('destinationInput').value;

            const originCoords = await getCoordinates(originInput);
            const destinationCoords = await getCoordinates(destinationInput);

            if (!originCoords || !destinationCoords) {
                alert('Error: Unable to find coordinates for origin or destination.');
                return;
            }

            const apiKey = '5b3ce3597851110001cf62488c0a6607fdd24930ad5f6fcecc9859ab'; // Replace with your OpenRouteService API key
            const url = `https://api.openrouteservice.org/v2/directions/driving-car?api_key=${apiKey}&start=${originCoords.lat},${originCoords.lon}&end=${destinationCoords.lat},${destinationCoords.lon}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (response.ok && data.features && data.features.length > 0) {
                    const distance = data.features[0].properties.summary.distance / 1000; // Distance in meters, convert to km
                    const duration = data.features[0].properties.summary.duration / 60; // Duration in seconds, convert to minutes
                    const routeList = document.getElementById('routeList');
                    routeList.innerHTML = `
                        <h3>Route</h3>
                        <p>Distance: ${distance.toFixed(2)} km</p>
                        <p>Duration: ${duration.toFixed(2)} minutes</p>
                    `;
                } else {
                    alert('Error: Unable to calculate route.');
                }
            } catch (error) {
                console.error('Error fetching route:', error);
                alert('Error: Unable to fetch route.');
            }
        }

        async function getCoordinates(location) {
            const apiKey = '5b3ce3597851110001cf62488c0a6607fdd24930ad5f6fcecc9859ab'; // Replace with your OpenRouteService API key
            const url = `https://api.openrouteservice.org/geocode/search?api_key=${apiKey}&text=${encodeURIComponent(location)}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (response.ok && data.features && data.features.length > 0) {
                    return {
                        lat: data.features[0].geometry.coordinates[1],
                        lon: data.features[0].geometry.coordinates[0]
                    };
                } else {
                    return null;
                }
            } catch (error) {
                console.error('Error fetching coordinates:', error);
                return null;
            }
        }
    </script>
</body>
</html>
